#!/bin/bash
# Script: batchProcessing-0x02
# Purpose: Fetch multiple PokÃ©mon data and save as separate JSON files

# 1ï¸âƒ£ Define PokÃ©mon list
POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# 2ï¸âƒ£ Create directory to store data (if it doesn't exist)
mkdir -p pokemon_data

# 3ï¸âƒ£ Loop through each PokÃ©mon
for pokemon in "${POKEMONS[@]}"
do
    echo "Fetching data for $pokemon..."

    # 4ï¸âƒ£ Define file name for output
    OUTPUT_FILE="pokemon_data/${pokemon}.json"

    # 5ï¸âƒ£ Make API call using curl
    # -s: silent mode (no progress bar)
    # -o: output file
    curl -s -o "$OUTPUT_FILE" "https://pokeapi.co/api/v2/pokemon/${pokemon}"

    # 6ï¸âƒ£ Check if curl succeeded
    if [ $? -eq 0 ]; then
        echo "âœ… Saved data to $OUTPUT_FILE"
    else
        echo "âŒ Failed to fetch data for $pokemon" >> errors.txt
    fi

    # 7ï¸âƒ£ Add delay (1 second)
    sleep 1
done

echo "ğŸ‰ All data fetched successfully!"
